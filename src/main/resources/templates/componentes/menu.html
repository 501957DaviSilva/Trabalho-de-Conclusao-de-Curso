<nav class="menu" th:fragment="menu">
  <div class="logo">
    <a th:href="@{/index}" id="home-link">
      <img
        th:src="@{/src/main/resources/statics/assets/imagens/logo2.png}"
        alt="Logo Guides Fit"
        style="height: 100px; width: auto"
      />
    </a>
  </div>
  <div class="nav-links">
    <a th:href="@{/academias}" id="academias-link">Academias</a>
    <a th:href="@{/treinos}" id="treinos-link">Treinos</a>
    <a th:href="@{/personais}" id="personais-link">Personais</a>
    <a th:href="@{/index#secao-preta-sobre}" id="sobre-link">Sobre</a>
    <a th:href="@{/login}" id="login-link"
      ><button class="btn">Login</button></a
    >
    <a th:href="@{/cadastro}" id="cadastro-link"
      ><button class="btn">Registrar-se</button></a
    >
  </div>

  <script>
    const urlAtual = window.location.pathname.split("/").pop();
    const links = document.querySelectorAll(".nav-links a");

    links.forEach((link) => {
      const destino = link.getAttribute("href")?.split("/").pop();
      const id = link.getAttribute("id");

      if (
        urlAtual === "index" ||
        urlAtual === "login" ||
        urlAtual === "academias" ||
        urlAtual === "cadastro" ||
        urlAtual === ""
      ) {
        if (
          (urlAtual !== "login" && id === "login-link") ||
          (urlAtual !== "cadastro" && id === "cadastro-link") ||
          id === "academias-link"
        ) {
          // mantém visível
        } else {
          link.style.display = "none";
        }
      }
    });
  </script>
</nav>
